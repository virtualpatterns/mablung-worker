{"version":3,"sources":["../../source/sandbox/fork._test.js"],"names":["ChildProcess","Test","Require","_createRequire","import","meta","url","test","childProcess","fork","resolve","on","error","console","log","truthy","pid","Promise","setTimeout"],"mappings":"yDAAA,OAAOA,YAAP,MAAyB,eAAzB;AACA,OAAOC,IAAP,MAAiB,KAAjB;;AAEA,MAAMC,OAAO,GAHbC,cAAc,CAACC,MAAM,CAACC,IAAP,CAAYC,GAAb,CAGd,C,CAA0B;;AAE1BL,IAAI,CAAC,KAAD,EAASM,IAAD,IAAU;;AAEpB,MAAIC,YAAY,GAAGR,YAAY,CAACS,IAAb,CAAkBP,OAAO,CAACQ,OAAR,CAAgB,aAAhB,CAAlB,EAAkD,EAAlD,EAAsD,EAAE,YAAY,MAAd,EAAtD,CAAnB;;AAEAF,EAAAA,YAAY,CAACG,EAAb,CAAgB,OAAhB,EAA0BC,KAAD,IAAW;AAClCC,IAAAA,OAAO,CAACD,KAAR,CAAc,gDAAd;AACAC,IAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd;AACD,GAHD;;AAKAJ,EAAAA,YAAY,CAACG,EAAb,CAAgB,MAAhB,EAAwB,MAAM;AAC5BE,IAAAA,OAAO,CAACC,GAAR,CAAY,0CAAZ;AACD,GAFD;;AAIAP,EAAAA,IAAI,CAACQ,MAAL,CAAYP,YAAY,CAACQ,GAAzB;;AAEA,SAAO,IAAIC,OAAJ,CAAY,CAACP,OAAD,CAAQ,cAAR,KAA2B;AAC5CQ,IAAAA,UAAU,CAAC,MAAM;AACfR,MAAAA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACD,KATS,EASP,IATO,CAAV;;AAWD,GAZM,CAAP;;AAcD,CA7BG,CAAJ","sourcesContent":["import ChildProcess from 'child_process'\nimport Test from 'ava'\n\nconst Require = __require // __require is replaced by @virtualpatterns/mablung-babel-plugin-replace\n\nTest('...', (test) => {\n\n  let childProcess = ChildProcess.fork(Require.resolve('./forked.js'), [], { 'execPath': '/abc' })\n\n  childProcess.on('error', (error) => {\n    console.error('childProcess.on(\\'error\\', (error) => { ... })')\n    console.error(error)\n  })\n\n  childProcess.on('exit', () => {\n    console.log('childProcess.on(\\'exit\\', () => { ... })')\n  })\n\n  test.truthy(childProcess.pid)\n\n  return new Promise((resolve/* , reject */) => {\n    setTimeout(() => {\n      resolve()\n      // childProcess.send({ 'type': 'end' }, (error) => {\n      //   if (error) {\n      //     reject(error)\n      //   } else {\n      //     resolve()\n      //   }\n      // })\n    }, 2500)\n    \n  })\n\n})\n"],"file":"fork._test.js"}