{"version":3,"sources":["../../../../source/esmodule/test/library/exit-pool.test.js"],"names":[],"mappings":"AAAA,OAAO,IAAP,MAAiB,KAAjB;;AAEA,SAAS,QAAT,QAAyB,gBAAzB;;AAEA,IAAI,CAAC,gBAAD,EAAmB,OAAO,IAAP,KAAgB;;AAErC,MAAI,IAAI,GAAG,IAAI,QAAJ,CAAa,EAAE,mBAAmB,CAArB,EAAb,CAAX;AACA,MAAI,IAAI,GAAG,MAAM,IAAI,OAAJ,CAAY,CAAC,OAAD,KAAa;;AAExC,QAAI,MAAM,GAAG,IAAb;;AAEA,IAAA,IAAI,CAAC,EAAL,CAAQ,MAAR,EAAgB,MAAM,GAAG,CAAC,KAAD,EAAQ,OAAR,EAAiB,IAAjB,KAA0B;AACjD,MAAA,IAAI,CAAC,GAAL,CAAU,6BAA4B,KAAM,cAAa,IAAK,eAA9D;;AAEA,MAAA,IAAI,CAAC,GAAL,CAAS,MAAT,EAAiB,MAAjB;AACA,MAAA,MAAM,GAAG,IAAT;;AAEA,MAAA,OAAO,CAAC,IAAD,CAAP;;AAED,KARD;;AAUD,GAdgB,CAAjB;;AAgBA,EAAA,IAAI,CAAC,EAAL,CAAQ,IAAR,EAAc,CAAd;;AAED,CArBG,CAAJ","file":"exit-pool.test.js","sourcesContent":["import Test from 'ava'\n\nimport { ExitPool } from './exit-pool.js'\n\nTest('new ExitPool()', async (test) => {\n\n  let pool = new ExitPool({ 'numberOfProcess': 1 })\n  let code = await new Promise((resolve) => {\n\n    let onExit = null\n\n    pool.on('exit', onExit = (index, process, code) => {\n      test.log(`pool.on('exit', onExit = (${index}, process, ${code}) => { ... })`)\n\n      pool.off('exit', onExit)\n      onExit = null\n\n      resolve(code)\n\n    })\n\n  })\n\n  test.is(code, 0)\n\n})\n"]}