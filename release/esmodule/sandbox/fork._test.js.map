{"version":3,"sources":["../../../source/esmodule/sandbox/fork._test.js"],"names":[],"mappings":"yDAAA,OAAO,YAAP,MAAyB,eAAzB;AACA,OAAO,IAAP,MAAiB,KAAjB;;AAEA,MAAM,OAAO,GAHb,cAAc,CAAC,MAAM,CAAC,IAAP,CAAY,GAAb,CAGd,C,CAA0B;;AAE1B,IAAI,CAAC,KAAD,EAAQ,CAAC,IAAD,KAAU;;AAEpB,MAAI,YAAY,GAAG,YAAY,CAAC,IAAb,CAAkB,OAAO,CAAC,OAAR,CAAgB,aAAhB,CAAlB,EAAkD,EAAlD,EAAsD,EAAE,YAAY,MAAd,EAAtD,CAAnB;;AAEA,EAAA,YAAY,CAAC,EAAb,CAAgB,OAAhB,EAAyB,CAAC,KAAD,KAAW;AAClC,IAAA,OAAO,CAAC,KAAR,CAAc,gDAAd;AACA,IAAA,OAAO,CAAC,KAAR,CAAc,KAAd;AACD,GAHD;;AAKA,EAAA,YAAY,CAAC,EAAb,CAAgB,MAAhB,EAAwB,MAAM;AAC5B,IAAA,OAAO,CAAC,GAAR,CAAY,0CAAZ;AACD,GAFD;;AAIA,EAAA,IAAI,CAAC,MAAL,CAAY,YAAY,CAAC,GAAzB;;AAEA,SAAO,IAAI,OAAJ,CAAY,CAAC,OAAD,CAAQ,cAAR,KAA2B;AAC5C,IAAA,UAAU,CAAC,MAAM;AACf,MAAA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACD,KATS,EASP,IATO,CAAV;;AAWD,GAZM,CAAP;;AAcD,CA7BG,CAAJ","file":"fork._test.js","sourcesContent":["import ChildProcess from 'child_process'\nimport Test from 'ava'\n\nconst Require = __require // __require is replaced by @virtualpatterns/mablung-babel-plugin-replace\n\nTest('...', (test) => {\n\n  let childProcess = ChildProcess.fork(Require.resolve('./forked.js'), [], { 'execPath': '/abc' })\n\n  childProcess.on('error', (error) => {\n    console.error('childProcess.on(\\'error\\', (error) => { ... })')\n    console.error(error)\n  })\n\n  childProcess.on('exit', () => {\n    console.log('childProcess.on(\\'exit\\', () => { ... })')\n  })\n\n  test.truthy(childProcess.pid)\n\n  return new Promise((resolve/* , reject */) => {\n    setTimeout(() => {\n      resolve()\n      // childProcess.send({ 'type': 'end' }, (error) => {\n      //   if (error) {\n      //     reject(error)\n      //   } else {\n      //     resolve()\n      //   }\n      // })\n    }, 2500)\n    \n  })\n\n})\n"]}