{"version":3,"sources":["../../../source/esmodule/sandbox/fork._test.js"],"names":[],"mappings":";;AAAA;;AACA;;;;AAEA,MAAM,OAAO,GAHb,OAGA,C,CAA0B;;AAE1B,kBAAK,KAAL,EAAa,IAAD,IAAU;AAEpB,MAAI,YAAY,GAAG,uBAAa,IAAb,CAAkB,OAAO,CAAC,OAAR,CAAgB,cAAhB,CAAlB,EAAkD,EAAlD,EAAsD;AAAE,gBAAY;AAAd,GAAtD,CAAnB;;AAEA,EAAA,YAAY,CAAC,EAAb,CAAgB,OAAhB,EAA0B,KAAD,IAAW;AAClC,IAAA,OAAO,CAAC,KAAR,CAAc,gDAAd;AACA,IAAA,OAAO,CAAC,KAAR,CAAc,KAAd;AACD,GAHD;AAKA,EAAA,YAAY,CAAC,EAAb,CAAgB,MAAhB,EAAwB,MAAM;AAC5B,IAAA,OAAO,CAAC,GAAR,CAAY,0CAAZ;AACD,GAFD;AAIA,EAAA,IAAI,CAAC,MAAL,CAAY,YAAY,CAAC,GAAzB;AAEA,SAAO,IAAI,OAAJ,CAAY,CAAC;AAAO;AAAR,OAA2B;AAC5C,IAAA,UAAU,CAAC,MAAM;AACf,MAAA,OAAO,GADQ,CAEf;AACA;AACA;AACA;AACA;AACA;AACA;AACD,KATS,EASP,IATO,CAAV;AAWD,GAZM,CAAP;AAcD,CA7BD","file":"fork._test.cjs","sourcesContent":["import ChildProcess from 'child_process'\nimport Test from 'ava'\n\nconst Require = __require // __require is replaced by @virtualpatterns/mablung-babel-plugin-replace\n\nTest('...', (test) => {\n\n  let childProcess = ChildProcess.fork(Require.resolve('./forked.js'), [], { 'execPath': '/abc' })\n\n  childProcess.on('error', (error) => {\n    console.error('childProcess.on(\\'error\\', (error) => { ... })')\n    console.error(error)\n  })\n\n  childProcess.on('exit', () => {\n    console.log('childProcess.on(\\'exit\\', () => { ... })')\n  })\n\n  test.truthy(childProcess.pid)\n\n  return new Promise((resolve/* , reject */) => {\n    setTimeout(() => {\n      resolve()\n      // childProcess.send({ 'type': 'end' }, (error) => {\n      //   if (error) {\n      //     reject(error)\n      //   } else {\n      //     resolve()\n      //   }\n      // })\n    }, 2500)\n    \n  })\n\n})\n"]}